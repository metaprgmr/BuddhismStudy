<html>
<head>
<meta charset="utf-8">
<title>《個人文集》目錄</title>
<link rel="stylesheet" href="../util/article.css">
<style>
ol { font-size:20px; line-height:150% }
</style>
<script src="../util/utils.js"></script>
<script src="registry.js"></script>
</head>
<body><center>
<h1>《個人文集》目錄</h1>
<div id="content" class="contentW">
</div>
<span class="copyright"></span>
</center></body></html>

<script>
var buf = new Buffer(), idx = 1, testing = get('test');
buf.w('<center><table><tr><th>佛法</th><th>修行</th><th>雜論</th></tr>');
buf.w('<tr><td valign="top"><ol>');
for (var i=0; i<lines.length; ++i) {
  var ln = lines[i];
  if (ln.startsWith('xxxx')) break;
  if (ln.startsWith('####')) {
    buf.w('</ol></td><td style="padding-left:30px" valign="top">',
          `<ol start="${idx}">`);
    continue;
  }
  buf.w('<li>');
  var row = ln.split(MULTI_SEP);
  for (var j=0; j<row.length; ++j) {
    if (j>0) buf.w('，');
    ln = row[j].split('|');
    var id = ln[0], info = articleInfo[id];
    
    if (!info || info.invalidID) alert(`Dup id: ${id}`);
    else {
      var uri = testing ? `../article.html?id=${id}` : info.uri;
      buf.w(`<a href="${uri}" title="${id}">${info.title}</a>`);
    }
  }
  buf.w('</li>');
  ++idx;
}
buf.w('</ol></td></tr></table></center><hr>'); 
buf.render('content');
</script>

